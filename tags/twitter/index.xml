<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Twitter on Invalid Input</title>
    <link>/tags/twitter/index.xml</link>
    <description>Recent content in Twitter on Invalid Input</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <atom:link href="/tags/twitter/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Socialize your blogdown</title>
      <link>/2017/10/23/socialize-your-blogdown/</link>
      <pubDate>Mon, 23 Oct 2017 00:00:00 +0000</pubDate>
      
      <guid>/2017/10/23/socialize-your-blogdown/</guid>
      <description>&lt;div id=&#34;tldr&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;TL;DR&lt;/h2&gt;
&lt;p&gt;In this post, we show how to modify the default bookdown template so that rich cards are generated when links are shared on Twitter. We also try to learn a bit of Blogdown/Hugo templating along the way.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/socialize-blogdown-social.png&#34; /&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;tags-and-twitter-tags&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Tags and Twitter Tags&lt;/h2&gt;
&lt;p&gt;Social &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; tags are &lt;code&gt;HTML&lt;/code&gt; tags at the top of your pages that social network and search engine can parse to extract content and generate rich previews.&lt;/p&gt;
&lt;p&gt;When the &lt;a href=&#34;https://twitter.com/rweekly_live&#34;&gt;R Weekly twitter account&lt;/a&gt; share a link pointing to a site without tags for Twitter cards, it looks like a plain url.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/20171023-socialize-blogdown-plain-tweet.png&#34; /&gt;

&lt;/div&gt;
&lt;p&gt;However, when they share a link pointing to a site with compatible meta tags, like &lt;a href=&#34;&#34;&gt;Bob Rudis’s&lt;/a&gt; blog, it doesn’t look like a plain url, but rather like this:&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/20171023-socialize-blogdown-rich-tweet.png&#34; /&gt;

&lt;/div&gt;
&lt;p&gt;The two big families of social graph meta tags are &lt;a href=&#34;https://developer.twitter.com/en/docs/tweets/optimize-with-cards/guides/getting-started&#34;&gt;Twitter’s &lt;code&gt;name=twitter:&amp;lt;tag-name&amp;gt;&lt;/code&gt;&lt;/a&gt; and &lt;a href=&#34;http://ogp.me/&#34;&gt;Facebook Open Graph’s &lt;code&gt;property=og:&amp;lt;tag-name&amp;gt;&lt;/code&gt;&lt;/a&gt;. Luckily, when Twitter doesn’t find a tag, it can use the corresponding Open Graph tag in some cases, so we don’t need to define everything twice (see &lt;a href=&#34;(https://developer.twitter.com/en/docs/tweets/optimize-with-cards/guides/getting-started)&#34;&gt;“Twitter Cards and Open Graph” here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If we look at the tags used in the example above, we see that a mix of &lt;code&gt;og:&lt;/code&gt; and &lt;code&gt;twitter:&lt;/code&gt; tags were used.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;../../img/20171023-socialize-blogdown-source-rudis.png&#34; /&gt;

&lt;/div&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;code&gt;og:image&lt;/code&gt;: link to the image&lt;/li&gt;
&lt;li&gt;&lt;code&gt;og:description&lt;/code&gt;: short description text&lt;/li&gt;
&lt;li&gt;&lt;code&gt;og:url&lt;/code&gt;: actual reference url&lt;/li&gt;
&lt;li&gt;&lt;code&gt;og:title&lt;/code&gt;: title for the page&lt;/li&gt;
&lt;li&gt;&lt;code&gt;twitter:card&lt;/code&gt;: type of the card&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;social-graph-tags-and-blogdown&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Social graph tags and blogdown&lt;/h2&gt;
&lt;div id=&#34;vanilla-blogdown&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Vanilla blogdown&lt;/h3&gt;
&lt;p&gt;This site is generated using the excellent &lt;a href=&#34;https://github.com/yihui/&#34;&gt;Yihui Xie’s&lt;/a&gt; &lt;a href=&#34;https://github.com/rstudio/blogdown&#34;&gt;blogdown&lt;/a&gt; package. It also use the default theme, a &lt;a href=&#34;https://github.com/yihui/hugo-lithium-theme&#34;&gt;fork&lt;/a&gt; of &lt;a href=&#34;https://github.com/jrutheiser&#34;&gt;Jonathan Rutheiser’s&lt;/a&gt; &lt;a href=&#34;https://github.com/jrutheiser/hugo-lithium-theme&#34;&gt;lithium-theme&lt;/a&gt; for &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The theme doesn’t fully implement the &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; tags necessary for creating cards on twitter. To see what tags are currently generated, we can check the template file &lt;code&gt;head.html&lt;/code&gt; in &lt;code&gt;themes/hugo-lithium-theme/layouts/partials/&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;...
{{ if eq .URL &amp;quot;/&amp;quot; }}
&amp;lt;title&amp;gt;{{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;website&amp;quot;&amp;gt;
{{ else }}
&amp;lt;title&amp;gt;{{ .Title }}{{ with .Params.subtitle }} - {{ . }} {{ end }} - {{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Title }} - {{ .Site.Title }}&amp;quot;&amp;gt;
{{ end }}

{{ if eq .URL &amp;quot;/&amp;quot; }}
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
{{ else }}
  {{ if .Description }}
  &amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Description }}&amp;quot;&amp;gt;
  {{ end }}
{{ end }}
...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In addition to normal HTML, the template uses Hugo templating syntax elements to get dynamic html output (everything between double curly brackets):&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/variables/&#34;&gt;Hugo variables&lt;/a&gt; to gather data about the site and the post, or to create your own reusable variables. There are different types of variables:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;variables starting with &lt;code&gt;.&lt;/code&gt; are defined in the top metadata of the page&lt;/li&gt;
&lt;li&gt;variables starting with &lt;code&gt;.Site&lt;/code&gt; are defined in the &lt;code&gt;config.toml&lt;/code&gt; file&lt;/li&gt;
&lt;li&gt;variables starting with &lt;code&gt;$&lt;/code&gt; are defined in the template&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I don’t enough about the details but it looks like the most common variable like &lt;code&gt;Title&lt;/code&gt; and &lt;code&gt;Description&lt;/code&gt; have “shortcuts” (i.e you access them simply with &lt;code&gt;.Title&lt;/code&gt;/&lt;code&gt;.Site.Title&lt;/code&gt; and &lt;code&gt;.Description&lt;/code&gt;), whereas other variable need &lt;code&gt;.Params&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;&amp;lt;!-- insert the title of the site between a &amp;lt;title&amp;gt; tag --&amp;gt;
&amp;lt;title&amp;gt;{{ .Site.Title }}&amp;lt;/title&amp;gt;

&amp;lt;!-- insert the title of the post between a &amp;lt;title&amp;gt; tag --&amp;gt;
&amp;lt;title&amp;gt;{{ .Title }}&amp;lt;/title&amp;gt;

&amp;lt;!-- insert the title stored in variable mytitle --&amp;gt;
{{ $defaultTitle := &amp;quot;This is a title&amp;quot; }}
&amp;lt;title&amp;gt;{{ $defaultTitle }}&amp;lt;/title&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;a href=&#34;https://gohugo.io/templates/introduction/#conditionals&#34;&gt;if/else conditional&lt;/a&gt; to add different tags depending on a condition.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;&amp;lt;!-- if the relative url of the page is &amp;quot;/&amp;quot;, insert title &amp;quot;coconut&amp;quot; --&amp;gt;
{{ if eq .URL &amp;quot;/&amp;quot; }}
  &amp;lt;title&amp;gt;coconut&amp;lt;/title&amp;gt;
{{ end }}

&amp;lt;!-- if there is a &amp;quot;description&amp;quot; metadata on the post, insert it --&amp;gt;
&amp;lt;!-- in a &amp;quot;description&amp;quot; meta tag, otherwise insert default text --&amp;gt;
{{ if .Description }}
  &amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Description }}&amp;quot;&amp;gt;
{{ else }}
  &amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;Default description&amp;quot;&amp;gt;
{{ end }}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s deconstruct the Hugo templating syntax. I’ll keep it brief so, if it doesn’t make sense, &lt;a href=&#34;https://bookdown.org/yihui/blogdown/templates.html#a-minimal-example&#34;&gt;read this introduction&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If the page is the homepage (&lt;code&gt;{{ if eq .URL &amp;quot;/&amp;quot; }}&lt;/code&gt;):&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;{{ if eq .URL &amp;quot;/&amp;quot; }}
&amp;lt;title&amp;gt;{{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;website&amp;quot;&amp;gt;
{{ else }}
...
{{ end }}

{{ if eq .URL &amp;quot;/&amp;quot; }}
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
{{ else }}
...
{{ end }}&lt;/code&gt;&lt;/pre&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Add a &lt;code&gt;og:title&lt;/code&gt; tag with the name of site (&lt;code&gt;.Site.Title&lt;/code&gt; refers to the &lt;code&gt;title&lt;/code&gt; key in &lt;code&gt;config.toml&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Add a &lt;code&gt;og:type&lt;/code&gt; tag of type “website”.&lt;/li&gt;
&lt;li&gt;Add a &lt;code&gt;description&lt;/code&gt; tag with the description of the site (&lt;code&gt;.Site.Params.description&lt;/code&gt; refers to the &lt;code&gt;description&lt;/code&gt; key from the &lt;code&gt;params&lt;/code&gt; section defined in &lt;code&gt;config.toml&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If the page is not the homepage:&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;{{ if eq .URL &amp;quot;/&amp;quot; }}
...
{{ else }}
&amp;lt;title&amp;gt;{{ .Title }}{{ with .Params.subtitle }} - {{ . }} {{ end }} - {{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Title }} - {{ .Site.Title }}&amp;quot;&amp;gt;
{{ end }}

{{ if eq .URL &amp;quot;/&amp;quot; }}
...
{{ else }}
  {{ if .Description }}
  &amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Description }}&amp;quot;&amp;gt;
  {{ end }}
{{ end }}&lt;/code&gt;&lt;/pre&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Add a &lt;code&gt;og:title&lt;/code&gt; tag with the name of the post (&lt;code&gt;.Title&lt;/code&gt; refers to the &lt;code&gt;title&lt;/code&gt; key at the top of the post) and the name of the site (&lt;code&gt;.Site.Title&lt;/code&gt; refers to the &lt;code&gt;title&lt;/code&gt; key in &lt;code&gt;config.toml&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Only if a &lt;code&gt;description&lt;/code&gt; key is defined on the post, add it as &lt;code&gt;description&lt;/code&gt; key.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;adding-tags&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Adding tags&lt;/h3&gt;
&lt;p&gt;We do have &lt;code&gt;og:title&lt;/code&gt;. We want to add:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;og:description&lt;/code&gt;: support for description, the current &lt;code&gt;description&lt;/code&gt; tag isn’t pulled as &lt;code&gt;og:description&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;twitter:creator&lt;/code&gt; and &lt;code&gt;twitter:site&lt;/code&gt;: twitter handles of the site/author&lt;/li&gt;
&lt;li&gt;&lt;code&gt;twitter:card&lt;/code&gt; and &lt;code&gt;og:image&lt;/code&gt;: the type of twitter card and image address&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;post-description-with-ogdescription&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Post description with &lt;code&gt;og:description&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;In the current template, a &lt;code&gt;description&lt;/code&gt; tag is already added. Note that if there is no description for the post, no &lt;code&gt;description&lt;/code&gt; tag is added.&lt;/p&gt;
&lt;p&gt;We want (1) to add logic for &lt;code&gt;og:description&lt;/code&gt; tag and (2) to add a default description for when no description was written for the post.&lt;/p&gt;
&lt;div id=&#34;add-logic-for-ogdescription&#34; class=&#34;section level5&#34;&gt;
&lt;h5&gt;Add logic for &lt;code&gt;og:description&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;Rather than using the &lt;code&gt;{{ if eq .URL &amp;quot;/&amp;quot; }}&lt;/code&gt; twice we will wrap everything in the first &lt;code&gt;if&lt;/code&gt; statement.&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;{{ if eq .URL &amp;quot;/&amp;quot; }}
&amp;lt;title&amp;gt;{{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;website&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
{{ else }}
&amp;lt;title&amp;gt;{{ .Title }}{{ with .Params.subtitle }} - {{ . }} {{ end }} - {{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Title }} - {{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;article&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Description }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:description&amp;quot; content=&amp;quot;{{ .Description }}&amp;quot;&amp;gt;
{{ end }}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;add-default-for-ogdescription&#34; class=&#34;section level5&#34;&gt;
&lt;h5&gt;Add default for &lt;code&gt;og:description&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;What happen if the post has no description? We could write an &lt;code&gt;if&lt;/code&gt; statement to check first if there is a &lt;code&gt;description&lt;/code&gt; key (&lt;code&gt;{{ if .Description }}...&lt;/code&gt;), but we can also provide a &lt;a href=&#34;https://gohugo.io/functions/default/&#34;&gt;&lt;code&gt;default&lt;/code&gt;&lt;/a&gt;, which goes like &lt;code&gt;{{ variable-name | default default-value }}&lt;/code&gt;. To avoid writing the &lt;code&gt;default-value&lt;/code&gt; twice (for tags &lt;code&gt;description&lt;/code&gt; and &lt;code&gt;og:description&lt;/code&gt;), we can store it in a &lt;a href=&#34;https://golang.org/pkg/text/template/#hdr-Variables&#34;&gt;Go template variable&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Below we create the &lt;code&gt;$defaultDescription&lt;/code&gt; variable, defined as a string “Article posted by &lt;author-name&gt;, on &lt;nicely-formated-date&gt;”. Then we add it as default for the tags &lt;code&gt;og:description&lt;/code&gt; and &lt;code&gt;description&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;{{ $defaultDescription := printf &amp;quot;Article posted by %s, on %s&amp;quot; .Params.author (.Date.Format &amp;quot;Monday, January 2nd, 2006&amp;quot;) }}
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Description | default $defaultDescription }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:description&amp;quot; content=&amp;quot;{{ .Description | default $defaultDescription }}&amp;quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and in context:&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;{{ if eq .URL &amp;quot;/&amp;quot; }}
&amp;lt;title&amp;gt;{{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;website&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
{{ else }}
&amp;lt;title&amp;gt;{{ .Title }}{{ with .Params.subtitle }} - {{ . }} {{ end }} - {{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Title }} - {{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;article&amp;quot;&amp;gt;
  
{{ $defaultDescription := printf &amp;quot;Article posted by %s, on %s&amp;quot; .Params.author (.Date.Format &amp;quot;Monday, January 2nd, 2006&amp;quot;) }}
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Description | default $defaultDescription }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:description&amp;quot; content=&amp;quot;{{ .Description | default $defaultDescription }}&amp;quot;&amp;gt;
{{ end }}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;twitter-creator-and-site&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Twitter creator and site&lt;/h4&gt;
&lt;p&gt;We could make twitter creator and site dependent of posts metadata if multiple authors were writing on your site. In this case, I just added two keys &lt;code&gt;twitterAuthor&lt;/code&gt; and &lt;code&gt;twitterSite&lt;/code&gt; into the &lt;code&gt;params&lt;/code&gt; section of &lt;code&gt;config.toml&lt;/code&gt; and used this for all posts (i.e outside of the if/else homepage conditional).&lt;/p&gt;
&lt;pre class=&#34;toml&#34;&gt;&lt;code&gt;# in config.toml
[params]
    description = &amp;quot;A datascience journal.&amp;quot;
    twitterAuthor = &amp;quot;@xvrdm&amp;quot;
    twitterSite = &amp;quot;@invalid_input&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and in the template:&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;&amp;lt;meta name=&amp;quot;twitter:creator&amp;quot; content=&amp;quot;{{ .Site.Params.twitterAuthor }}&amp;quot;&amp;gt;
&amp;lt;meta name=&amp;quot;twitter:site&amp;quot; content=&amp;quot;{{ .Site.Params.twitterSite }}&amp;quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and in context:&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;{{ if eq .URL &amp;quot;/&amp;quot; }}
&amp;lt;title&amp;gt;{{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;website&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
{{ else }}
&amp;lt;title&amp;gt;{{ .Title }}{{ with .Params.subtitle }} - {{ . }} {{ end }} - {{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Title }} - {{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;article&amp;quot;&amp;gt;
  
{{ $defaultDescription := printf &amp;quot;Article posted by %s, on %s&amp;quot; .Params.author (.Date.Format &amp;quot;Monday, January 2nd, 2006&amp;quot;) }}
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Description | default $defaultDescription }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:description&amp;quot; content=&amp;quot;{{ .Description | default $defaultDescription }}&amp;quot;&amp;gt;
{{ end }}

&amp;lt;meta name=&amp;quot;twitter:creator&amp;quot; content=&amp;quot;{{ .Site.Params.twitterAuthor }}&amp;quot;&amp;gt;
&amp;lt;meta name=&amp;quot;twitter:site&amp;quot; content=&amp;quot;{{ .Site.Params.twitterSite }}&amp;quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;twitter-card-type-with-twittercard&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Twitter card type with &lt;code&gt;twitter:card&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Three scenarios:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If the page is the homepage, we want to have a simple &lt;code&gt;summary&lt;/code&gt; card (small image) with the site logo as image.&lt;/li&gt;
&lt;li&gt;If the page is a post and has no image specified in its metadata, again a simple &lt;code&gt;summary&lt;/code&gt; card with the site logo as image.&lt;/li&gt;
&lt;li&gt;If the page is a post and has an image specified in its metadata, then let’s do a &lt;code&gt;summary_large_image&lt;/code&gt; card (image should be on a size ratio 2x1).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the default template, the site logo is located in &lt;code&gt;https://&amp;lt;site-url&amp;gt;/images&lt;/code&gt; with a name defined in &lt;code&gt;config.toml&lt;/code&gt; (see the &lt;code&gt;params.logo&lt;/code&gt; section) and accessible via &lt;code&gt;.Site.params.logo.url&lt;/code&gt; variable.&lt;/p&gt;
&lt;p&gt;For images, I place them all in a dir called &lt;code&gt;img&lt;/code&gt; in &lt;code&gt;static&lt;/code&gt;. So I refer them in posts with &lt;code&gt;/img/myimagefile.jpg&lt;/code&gt;. At the top of the post, I can add a metadata key named &lt;code&gt;twitterImg&lt;/code&gt; and then refer to it in the template with &lt;code&gt;.Params.twitterImg&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;A post metadata could look like this:&lt;/p&gt;
&lt;pre class=&#34;yaml&#34;&gt;&lt;code&gt;title: &amp;quot;Create maps from SITG files with sf and ggplot2&amp;quot;
author: &amp;quot;Xavier Adam&amp;quot;
date: 2017-09-15
twitterImg: /img/map-ggplot-sf-social.img
categories: [&amp;quot;R&amp;quot;]
tags: [&amp;quot;R&amp;quot;,&amp;quot;RMarkdown&amp;quot;,&amp;quot;map&amp;quot;, &amp;quot;shape&amp;quot;, &amp;quot;sf&amp;quot;, &amp;quot;ggplot2&amp;quot;, &amp;quot;rmapshaper&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The template syntax would be something like:&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;{{ if eq .URL &amp;quot;/&amp;quot; }}
  &amp;lt;meta name=&amp;quot;twitter:card&amp;quot; content=&amp;quot;summary&amp;quot;&amp;gt;
  &amp;lt;meta name=&amp;quot;twitter:image&amp;quot; content=&amp;quot;http://xvrdm.github.io/images/{{ .Site.Params.logo.url }}&amp;quot; &amp;gt;
{{ else }}
  {{ if .Params.twitterImg }}
    &amp;lt;meta name=&amp;quot;twitter:card&amp;quot; content=&amp;quot;summary_large_image&amp;quot;&amp;gt;
    &amp;lt;meta name=&amp;quot;twitter:image&amp;quot; content=&amp;quot;http://xvrdm.github.io/{{ .Params.twitterImg }}&amp;quot; &amp;gt;
  {{ else }}
    &amp;lt;meta name=&amp;quot;twitter:card&amp;quot; content=&amp;quot;summary&amp;quot;&amp;gt;
    &amp;lt;meta name=&amp;quot;twitter:image&amp;quot; content=&amp;quot;http://xvrdm.github.io/images/{{ .Site.Params.logo.url }}&amp;quot; &amp;gt;
{{ end }}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the final template:&lt;/p&gt;
&lt;pre class=&#34;html&#34;&gt;&lt;code&gt;{{ if eq .URL &amp;quot;/&amp;quot; }}
&amp;lt;title&amp;gt;{{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;website&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:description&amp;quot; content=&amp;quot;{{ .Site.Params.description }}&amp;quot;&amp;gt;
&amp;lt;meta name=&amp;quot;twitter:card&amp;quot; content=&amp;quot;summary&amp;quot;&amp;gt;
&amp;lt;meta name=&amp;quot;twitter:image&amp;quot; content=&amp;quot;http://xvrdm.github.io/images/{{ .Site.Params.logo.url }}&amp;quot; &amp;gt;
{{ else }}
&amp;lt;title&amp;gt;{{ .Title }}{{ with .Params.subtitle }} - {{ . }} {{ end }} - {{ .Site.Title }}&amp;lt;/title&amp;gt;
&amp;lt;meta property=&amp;quot;og:title&amp;quot; content=&amp;quot;{{ .Title }} - {{ .Site.Title }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:type&amp;quot; content=&amp;quot;article&amp;quot;&amp;gt;

  {{ if .Params.twitterImg }}
  &amp;lt;meta name=&amp;quot;twitter:card&amp;quot; content=&amp;quot;summary_large_image&amp;quot;&amp;gt;
  &amp;lt;meta name=&amp;quot;twitter:image&amp;quot; content=&amp;quot;http://xvrdm.github.io/{{ .Params.twitterImg }}&amp;quot; &amp;gt;
  {{ else }}
  &amp;lt;meta name=&amp;quot;twitter:card&amp;quot; content=&amp;quot;summary&amp;quot;&amp;gt;
  &amp;lt;meta name=&amp;quot;twitter:image&amp;quot; content=&amp;quot;http://xvrdm.github.io/images/{{ .Site.Params.logo.url }}&amp;quot; &amp;gt;
  {{ end }}
  
{{ $defaultDescription := printf &amp;quot;Article posted by %s, on %s&amp;quot; .Params.author (.Date.Format &amp;quot;Monday, January 2nd, 2006&amp;quot;) }}
&amp;lt;meta property=&amp;quot;description&amp;quot; content=&amp;quot;{{ .Description | default $defaultDescription }}&amp;quot;&amp;gt;
&amp;lt;meta property=&amp;quot;og:description&amp;quot; content=&amp;quot;{{ .Description | default $defaultDescription }}&amp;quot;&amp;gt;
{{ end }}

&amp;lt;meta name=&amp;quot;twitter:creator&amp;quot; content=&amp;quot;{{ .Params.twitterAuthor }}&amp;quot;&amp;gt;
&amp;lt;meta name=&amp;quot;twitter:site&amp;quot; content=&amp;quot;{{ .Params.twitterSite }}&amp;quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using the &lt;a href=&#34;&#34;&gt;card validator&lt;/a&gt;, you can try your new cards:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>